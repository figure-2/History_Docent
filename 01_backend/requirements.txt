# =============================================================================
# History Docent Backend - Requirements
# =============================================================================
# 한국사 RAG 시스템 백엔드 서버
# 생성일: 2024-11-25
# Python 버전: 3.13.9
# =============================================================================

# -----------------------------------------------------------------------------
# 웹 프레임워크
# -----------------------------------------------------------------------------
fastapi==0.122.0
uvicorn[standard]==0.38.0
pydantic==2.12.3

# -----------------------------------------------------------------------------
# RAG 시스템 - LLM 및 추론
# -----------------------------------------------------------------------------
# PyTorch (CUDA 지원)
torch==2.9.0
torchvision==0.24.0
torchaudio==2.9.0

# HuggingFace Transformers
transformers==4.57.2
accelerate==1.12.0
sentencepiece==0.2.1

# vLLM (고성능 LLM 추론)
vllm==0.11.2

# HuggingFace Hub
huggingface-hub==0.36.0

# -----------------------------------------------------------------------------
# 벡터 데이터베이스 및 임베딩
# -----------------------------------------------------------------------------
chromadb==1.3.5
sentence-transformers==5.1.2

# -----------------------------------------------------------------------------
# 검색 시스템
# -----------------------------------------------------------------------------
# BM25 검색 알고리즘
rank-bm25==0.2.2

# 한국어 형태소 분석 (Java 필요)
konlpy==0.6.0

# -----------------------------------------------------------------------------
# 데이터 처리
# -----------------------------------------------------------------------------
numpy==2.2.6
pandas==2.3.3

# -----------------------------------------------------------------------------
# HTTP 클라이언트
# -----------------------------------------------------------------------------
requests==2.32.5

# -----------------------------------------------------------------------------
# 기타 필수 패키지
# -----------------------------------------------------------------------------
protobuf==6.33.1

# -----------------------------------------------------------------------------
# 선택적 패키지 (프로덕션 환경)
# -----------------------------------------------------------------------------
# prometheus-fastapi-instrumentator==7.1.0  # 메트릭 수집 (선택)

# =============================================================================
# 시스템 요구사항
# =============================================================================
# - Python: 3.10 이상
# - CUDA: 12.1 이상 (GPU 사용 시)
# - Java: OpenJDK 21 이상 (KoNLPy 사용 시)
# - GPU: NVIDIA GPU 권장 (최소 16GB VRAM)
# - RAM: 최소 16GB 권장
# =============================================================================

# =============================================================================
# 설치 방법
# =============================================================================
# 1. Python 가상환경 생성 (권장):
#    python3 -m venv venv
#    source venv/bin/activate
#
# 2. 패키지 설치:
#    pip install -r requirements.txt
#
# 3. Java 설치 (KoNLPy 사용 시):
#    sudo apt-get install -y default-jdk
#    export JAVA_HOME=$(dirname $(dirname $(readlink -f $(which java))))
#
# 4. CUDA 확인 (GPU 사용 시):
#    nvidia-smi
#    python3 -c "import torch; print(torch.cuda.is_available())"
# =============================================================================


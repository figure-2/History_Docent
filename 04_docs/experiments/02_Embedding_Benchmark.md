# 임베딩 모델 벤치마크 (Embedding Model Benchmark)

> **Summary**: 7개 임베딩 모델을 Validation Set(2,223개)으로 평가한 결과, **BGE-m3**가 MRR 0.489로 최고 성능을 기록하여 최종 선정되었습니다.

## 1. 실험 목적

한국어 역사 도메인에 최적화된 임베딩 모델을 선정하기 위함.

## 2. 비교 후보군 (7개 모델)

| 모델 | 제조사 | 특징 | 예상 성능 |
|------|--------|------|----------|
| **BGE-m3** | BAAI | Multilingual, 최신 SOTA | 높음 |
| **E5-large** | Microsoft | Prefix 기반, Multilingual | 중상위 |
| **Jina-v3** | Jina AI | 최신 Instruction 기반 | 높음 |
| **Ko-SBERT** | 한국어 특화 | 한국어 NLI 학습 | 중위 |
| **GTE-large** | Alibaba | Large 사이즈 | 중위 |
| **Gemini-API** | Google | API 기반 | 높음 (예상) |
| **EmbeddingGemma** | Google | Gemma 기반, 경량 | 중위 |

## 3. 평가 결과

### 3.1 전체 성능 순위 (MRR 기준)

| 순위 | 모델 | MRR | Recall@1 | Recall@5 | Latency |
|------|------|-----|----------|----------|---------|
| **1위** | **BGE-m3** | **0.489** | **0.260** | **0.804** | 8.8ms |
| 2위 | E5-large | 0.445 | 0.225 | 0.742 | 14.7ms |
| 3위 | Jina-v3 | 0.440 | 0.206 | 0.755 | 6.6ms |
| 4위 | Ko-SBERT | 0.393 | 0.200 | 0.641 | 3.4ms |
| 5위 | GTE-large | 0.130 | 0.059 | 0.204 | 27.4ms |
| 6위 | Gemini-API | 0.021 | 0.006 | 0.031 | 19.2ms |
| 7위 | EmbeddingGemma | 0.004 | 0.000 | 0.002 | 0.0ms |

### 3.2 질문 유형별 성능

| 모델 | Keyword MRR | Context MRR | Abstract MRR |
|------|-------------|-------------|--------------|
| **BGE-m3** | **0.545** | **0.537** | **0.387** |
| E5-large | 0.496 | **0.517** | 0.322 |
| Jina-v3 | 0.479 | 0.504 | 0.337 |

## 4. 주요 발견

### 4.1 검증된 가설
- **Multilingual 모델이 한국어 특화 모델보다 우수**: BGE-m3, E5-large가 Ko-SBERT보다 성능 우수
- **질문 유형별 성능 차이 존재**: Abstract 질문이 가장 어려움 (모든 모델에서 낮은 성능)

### 4.2 기각된 가설
- **최신 SOTA 모델 우수**: Jina-v3는 3위, BGE-m3가 더 우수
- **Google API 우수**: Gemini-API는 6위로 매우 낮은 성능 (한국어 도메인 부적합)

## 5. 실패 사례 분석

### 5.1 Gemini-API (MRR: 0.021)
- **원인**: 한국어 역사 도메인에 최적화되지 않음
- **결과**: 모든 질문 유형에서 극도로 낮은 성능

### 5.2 EmbeddingGemma (MRR: 0.004)
- **원인**: 영어 중심 모델로 한국어 지원 부족
- **결과**: Recall@1이 0.000 (완전 실패)

## 6. 결론

**최종 선택: BGE-m3**

**선정 근거:**
1. **최고 성능**: MRR 0.489로 1위
2. **균형잡힌 성능**: 모든 질문 유형에서 우수
3. **안정성**: Recall@5에서 80.4% 달성
4. **적절한 속도**: Latency 8.8ms

---

**관련 파일**: `backend/03_Embedding/`
